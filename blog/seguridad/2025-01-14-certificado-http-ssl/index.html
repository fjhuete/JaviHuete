<!doctype html>
<html
  itemscope
  class=""
  lang="es-Es"
  itemtype="http://schema.org/WebPage">
  <head>
    
    <meta charset="utf-8" />


<meta
  name="viewport"
  content="width=device-width, initial-scale=1, maximum-scale=5" />


<meta name="theme-name" content="hugoplate" />















<link rel="shortcut icon" href="/images/favicon_hu_97d734128f375af.png" type="image/x-icon">
<link rel="icon" href="/images/favicon_hu_97d734128f375af.png" type="image/x-icon">
<link rel="icon" type="image/png" sizes="48x48" href="/images/favicon_hu_2a8eebffbb7fef12.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon_hu_97d734128f375af.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon_hu_cb22fd2ed3486ab3.png">








<link rel="manifest" href="/manifest.webmanifest" />
<meta
  name="msapplication-TileColor"
  content="#ddd" />
<meta
  name="theme-color"
  content="#ffffff" />





























  


<title>Certificado HTTP y SSL</title>















  <meta
    name="keywords"
    content="Javi Huete, Virtualización, Sistemas, Informática, Bases de datos" />




<meta
  name="description"
  content="Estudiante de Administración de Sistemas Infomáticos en Red" />



  <meta name="author" content="Javi Huete" />






  












  

  
  
  


  
  
    
    
      
    

    


    
    


    
    
      
      
      
        <meta property="og:image" content="/images/og-image.png" />
        <meta name="twitter:image" content="/images/og-image.png" />
        <meta
          name="twitter:card"
          content="summary_large_image" />
      
      
      <meta property="og:image:width" content="1123" />
      <meta property="og:image:height" content="650" />
    


    
    <meta
      property="og:image:type"
      content="image/.png" />
  


  





<meta property="og:title" content="Certificado HTTP y SSL" />
<meta property="og:description" content="Estudiante de Administración de Sistemas Infomáticos en Red" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/blog/seguridad/2025-01-14-certificado-http-ssl/" />


<meta name="twitter:title" content="Certificado HTTP y SSL" />
<meta name="twitter:description" content="Estudiante de Administración de Sistemas Infomáticos en Red" />


  <meta name="twitter:site" content="@fj_huete" />


  <meta name="twitter:creator" content="@Javi Huete" />



















<script>
  let indexURL = "/searchindex.json";
  let includeSectionsInSearch = ["blog"];
  let search_no_results = "No hay resultados para";
  let search_initial_message = "Escribe algo para buscar...";
</script>























    
    
<meta http-equiv="x-dns-prefetch-control" content="on" />
<link rel="preconnect" href="https://use.fontawesome.com" crossorigin />
<link rel="preconnect" href="//cdnjs.cloudflare.com" />
<link rel="preconnect" href="//www.googletagmanager.com" />
<link rel="preconnect" href="//www.google-analytics.com" />
<link rel="dns-prefetch" href="https://use.fontawesome.com" />
<link rel="dns-prefetch" href="//ajax.googleapis.com" />
<link rel="dns-prefetch" href="//cdnjs.cloudflare.com" />
<link rel="dns-prefetch" href="//www.googletagmanager.com" />
<link rel="dns-prefetch" href="//www.google-analytics.com" />
<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//connect.facebook.net" />
<link rel="dns-prefetch" href="//platform.linkedin.com" />
<link rel="dns-prefetch" href="//platform.twitter.com" />




<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<script>
  (function () {
    const googleFont = document.createElement("link");
    googleFont.href = "https://fonts.googleapis.com/css2?family=Heebo:wght@400;600&family=Signika:wght@500;700&display=swap";
    googleFont.type = "text/css";
    googleFont.rel = "stylesheet";
    document.head.appendChild(googleFont);
  })();
</script>





  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  











  
  



<link
  href="/css/style.min.e068118260daa0165d2cc6e35aa4f2d8b31b450a71639e499c4ac2db38a60425.css"
  integrity="sha256-4GgRgmDaoBZdLMbjWqTy2LMbRQpxY55JnErC2zimBCU="
  rel="stylesheet" />


<link
  defer
  async
  rel="stylesheet"
  href="/css/style-lazy.min.1eaf972a80eace377c040efc9266a2aa8d8241e6360aa71c6d441bcfe9fc31cc.css"
  integrity="sha256-Hq+XKoDqzjd8BA78kmaiqo2CQeY2CqccbUQbz+n8Mcw="
  media="print"
  onload="this.media='all'; this.onload=null;" />


  </head>

  <body>
    
    
      



      

    


    
    





    
    <header
  class="header sticky top-0 z-30">
  <nav class="navbar container">
    
    <div class="order-0">
      
      <a class="navbar-brand block" href="/">
        















  









  
  
  


  
  
    
    
  


  
  
      
      
    
    
    
    
    
    
  
  

  
  
    
    
      
      


      
      
        
        
        
        

        
        
        
      
      
    
  
  

  
    <img
      fetchpriority="high"
      decoding="async"
      class="img img-light"
      width="160"
      height="32"
      src="/images/logo_hu_147412e9a193273b.webp"
      alt="Javi Huete"
      onerror="this.onerror=null;this.src='\/images\/logo_hu_239070bac3e16f0e.png';" />

    <img
      fetchpriority="high"
      decoding="async"
      class="img img-dark"
      width="160"
      height="32"
      src="/images/logo-darkmode_hu_590aa44f8245a468.webp"
      alt="Javi Huete"
      onerror="this.onerror=null;this.src='\/images\/logo-darkmode_hu_7ac6db7b4e6aa847.png';" />
  
  


      </a>
    </div>
    
    <input id="nav-toggle" type="checkbox" class="hidden" />
    <label
      for="nav-toggle"
      class="order-3 cursor-pointer flex items-center lg:hidden text-dark dark:text-white lg:order-1">
      <svg id="show-button" class="h-6 fill-current block" viewBox="0 0 20 20">
        <title>Menu Open</title>
        <path d="M0 3h20v2H0V3z m0 6h20v2H0V9z m0 6h20v2H0V0z"></path>
      </svg>
      <svg id="hide-button" class="h-6 fill-current hidden" viewBox="0 0 20 20">
        <title>Menu Close</title>
        <polygon
          points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2"
          transform="rotate(45 10 10)"></polygon>
      </svg>
    </label>
    

    
    <ul
      id="nav-menu"
      class="navbar-nav order-3 hidden lg:flex w-full pb-6 lg:order-1 lg:w-auto lg:space-x-2 lg:pb-0 xl:space-x-8">
      
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/"
              >Inicio</a
            >
          </li>
        
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/about"
              >Sobre mí</a
            >
          </li>
        
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/blog"
              >Prácticas</a
            >
          </li>
        
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/contact"
              >Contacto</a
            >
          </li>
        
      
        
        
        
        
          <li class="nav-item nav-dropdown group relative">
            <span
              class="nav-link 
                
                
                
              
                
                
                
               inline-flex items-center">
              Más
              <svg class="h-4 w-4 fill-current" viewBox="0 0 20 20">
                <path
                  d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" />
              </svg>
            </span>
            <ul
              class="nav-dropdown-list lg:group-hover:visible lg:group-hover:opacity-100">
              
                
                
                <li class="nav-dropdown-item">
                  <a
                    class="nav-dropdown-link "
                    
                    href="/authors">
                    Autores
                  </a>
                </li>
              
                
                
                <li class="nav-dropdown-item">
                  <a
                    class="nav-dropdown-link "
                    
                    href="/categories">
                    Categorías
                  </a>
                </li>
              
            </ul>
          </li>
        
      
      
    </ul>

    <div class="order-1 ml-auto flex items-center md:order-2 lg:ml-0">
      
        
          <button
            aria-label="search"
            
            class="border-border text-dark hover:text-primary dark:border-darkmode-border mr-5 inline-block border-r pr-5 text-xl dark:text-white dark:hover:text-darkmode-primary"
            
            data-target="search-modal">
            <i class="fa-solid fa-search"></i>
          </button>
        
      

      









      


  <div class="theme-switcher mr-5 hidden">
    <input id="theme-switcher" data-theme-switcher type="checkbox" />
    <label for="theme-switcher">
      <span class="sr-only">theme switcher</span>
      <span>
        
        <svg
          class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 opacity-100 dark:opacity-0"
          viewBox="0 0 56 56"
          fill="#fff"
          height="16"
          width="16">
          <path
            d="M30 4.6c0-1-.9-2-2-2a2 2 0 0 0-2 2v5c0 1 .9 2 2 2s2-1 2-2Zm9.6 9a2 2 0 0 0 0 2.8c.8.8 2 .8 2.9 0L46 13a2 2 0 0 0 0-2.9 2 2 0 0 0-3 0Zm-26 2.8c.7.8 2 .8 2.8 0 .8-.7.8-2 0-2.9L13 10c-.7-.7-2-.8-2.9 0-.7.8-.7 2.1 0 3ZM28 16a12 12 0 0 0-12 12 12 12 0 0 0 12 12 12 12 0 0 0 12-12 12 12 0 0 0-12-12Zm23.3 14c1.1 0 2-.9 2-2s-.9-2-2-2h-4.9a2 2 0 0 0-2 2c0 1.1 1 2 2 2ZM4.7 26a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4.9c1 0 2-.9 2-2s-1-2-2-2Zm37.8 13.6a2 2 0 0 0-3 0 2 2 0 0 0 0 2.9l3.6 3.5a2 2 0 0 0 2.9 0c.8-.8.8-2.1 0-3ZM10 43.1a2 2 0 0 0 0 2.9c.8.7 2.1.8 3 0l3.4-3.5c.8-.8.8-2.1 0-2.9-.8-.8-2-.8-2.9 0Zm20 3.4c0-1.1-.9-2-2-2a2 2 0 0 0-2 2v4.9c0 1 .9 2 2 2s2-1 2-2Z" />
        </svg>
        
        <svg
          class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 opacity-0 dark:opacity-100"
          viewBox="0 0 24 24"
          fill="none"
          height="16"
          width="16">
          <path
            fill="#000"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M8.2 2.2c1-.4 2 .6 1.6 1.5-1 3-.4 6.4 1.8 8.7a8.4 8.4 0 0 0 8.7 1.8c1-.3 2 .5 1.5 1.5v.1a10.3 10.3 0 0 1-9.4 6.2A10.3 10.3 0 0 1 3.2 6.7c1-2 2.9-3.5 4.9-4.4Z" />
        </svg>
      </span>
    </label>
  </div>

  
  <script>
    var darkMode = true;

    

    if (localStorage.getItem("theme") === "dark"){darkMode = true}
    else if (localStorage.getItem("theme") === "light"){darkMode = false}

    if (darkMode){document.documentElement.classList.add("dark")}
    else {document.documentElement.classList.remove("dark")}

    
    document.addEventListener("DOMContentLoaded", () => {
      var themeSwitch = document.querySelectorAll("[data-theme-switcher]");
      var themeSwitcherContainer = document.querySelector('.theme-switcher');

      [].forEach.call(themeSwitch, function (ts) {
        ts.checked = darkMode;
        ts.addEventListener("click", () => {
          document.documentElement.classList.toggle("dark");
          localStorage.setItem(
            "theme",
            document.documentElement.classList.contains("dark") ? "dark" : "light"
          );
        });
      });

      
      themeSwitcherContainer.classList.remove('hidden');
    });
  </script>




      
      
    </div>
  </nav>
</header>

    




  
    <div
      class="search-modal "
      aria-hidden="true"
      style="--color-primary: #121212">
      <div data-target="close-search-modal" class="search-modal-overlay"></div>
      <div
        class="search-wrapper"
        data-image="true"
        data-description="true"
        data-tags="true"
        data-categories="true">
        <div class="search-wrapper-header">
          <label for="search-modal-input" style="margin-top:-1px">
            <span class="sr-only">search icon</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              height="18"
              width="18"
              class="search-icon"
              data-type="search">
              <path
                fill="currentColor"
                d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z" />
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              height="18"
              width="18"
              class="search-reset"
              data-type="reset">
              <path
                fill="currentColor"
                d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z" />
            </svg>
          </label>
          <input
            id="search-modal-input"
            type="text"
            data-search-input
            autocomplete="off"
            aria-label="Search"
            placeholder="Busca en un post..." />
        </div>
        <div class="search-wrapper-body">
          <div class="search-result" data-search-result></div>
          <span class="search-result-empty">
            Escribe algo para buscar...
          </span>
        </div>
        <div class="search-wrapper-footer">
          <span>
            <kbd>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                fill="currentColor"
                viewBox="0 0 16 16">
                <path
                  d="M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z" />
              </svg>
            </kbd>
            <kbd>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                fill="currentColor"
                style="margin-top:1px;"
                viewBox="0 0 16 16">
                <path
                  d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z" />
              </svg>
            </kbd>
            navegar
          </span>
          <span>
            <kbd>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="12"
                height="12"
                fill="currentColor"
                style="display:inline-block;"
                viewBox="0 0 16 16">
                <path
                  fill-rule="evenodd"
                  d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z" />
              </svg>
            </kbd>
            seleccioanr
          </span>
          <span class="search-result-info"></span>
          <span data-target="close-search-modal">
            <kbd>ESC</kbd> cerrar
          </span>
        </div>
      </div>
    </div>
  




    <main>
      
  <section class="section pt-7">
    <div class="container">
      <div class="row justify-center">
        <article class="lg:col-10">
          
          
          <h1 class="h2 mb-4">
            Certificado HTTP y SSL
          </h1>
          <ul class="mb-4">
            <li class="mr-4 inline-block">
              <a
                href="/authors/francisco-javier-huete/">
                <i class="fa-regular fa-circle-user mr-2"></i
                >Francisco Javier Huete
              </a>
            </li>
            
            
              <li class="mr-4 inline-block">
                <i class="fa-regular fa-folder mr-2"></i>
                
                  <a
                    href="/categories/seguridad/"
                    class=""
                    >Seguridad
                  </a>
                
              </li>
            
            <li class="mr-4 inline-block">
              <i class="fa-regular fa-clock mr-2"></i>
              January 14, 2025
            </li>
          </ul>
          <div class="content mb-10">
            

 
  

<details open class="table-of-content blog">
  <summary>
    
      Índice
    
  </summary>
  <nav id="TableOfContents">
  <ol>
    <li><a href="#autoridad-certificadora-ca-y-certificado-autofirmado">Autoridad Certificadora (CA) y certificado autofirmado</a></li>
    <li><a href="#firmar-solicitudes-de-certificados-como-autoridad-certificadora-ca">Firmar solicitudes de certificados como Autoridad Certificadora (CA)</a></li>
    <li><a href="#configuración-de-un-servidor-web-con-un-certificado-https">Configuración de un servidor web con un certificado HTTPS</a>
      <ol>
        <li><a href="#solicitud-del-certificado">Solicitud del certificado</a></li>
        <li><a href="#configuración-https-en-apache2">Configuración HTTPS en Apache2</a></li>
        <li><a href="#configuración-https-en-nginx">Configuración HTTPS en Nginx</a></li>
      </ol>
    </li>
  </ol>
</nav>
</details>

            <h1 id="autoridad-certificadora-ca-y-certificado-autofirmado">Autoridad Certificadora (CA) y certificado autofirmado</h1>
<p>Para la creación de una autoridad certificadora, en primer lugar se debe crear un directorio con el esquema de directorios y documentos necesarios para poder configurar la autoridad certificadora.</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash-session" data-lang="bash-session"><span style="display:flex;"><span><span style="color:#ccc">❯ mkdir CA
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">mkdir: se ha creado el directorio &#39;CA&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">❯ mkdir CA/{certsdb,certreqs,crl,private}
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">mkdir: se ha creado el directorio &#39;CA/certsdb&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">mkdir: se ha creado el directorio &#39;CA/certreqs&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">mkdir: se ha creado el directorio &#39;CA/crl&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">mkdir: se ha creado el directorio &#39;CA/private&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">❯ chmod 700 CA/private/
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">❯ touch CA/index.txt
</span></span></span></code></pre></div><p>Así, la estructura de directorios necesaria para la creación de la autoridad certificadora es la siguiente:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash-session" data-lang="bash-session"><span style="display:flex;"><span><span style="color:#ccc">❯ tree CA
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">CA
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">├── certreqs
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">├── certsdb
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">├── crl
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">├── index.txt
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">└── private
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">5 directories, 1 file
</span></span></span></code></pre></div><p>Para configurar la autoridad certificadora se puede partir del fichero de configuración de openssl que ya está en el sistema. Este fichero puede estar en varios directorios. En este caso, se encuentra en /etc/ssl/openssl.cnf</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash-session" data-lang="bash-session"><span style="display:flex;"><span><span style="color:#ccc">❯ sudo cp /etc/ssl/openssl.cnf .
</span></span></span></code></pre></div><p>La autoridad certificadora se configura modificando este fichero.</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash-session" data-lang="bash-session"><span style="display:flex;"><span><span style="color:#ccc">❯ cat openssl.cnf 
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># OpenSSL example configuration file.</span>
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> See doc/man5/config.pod <span style="color:#6ab825;font-weight:bold">for</span> more info.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># This is mostly being used for generation of certificate requests,</span>
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> but may be used <span style="color:#6ab825;font-weight:bold">for</span> auto loading of providers
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Note that you can include other files from the main configuration
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> file using the .include directive.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span>.include filename
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> This definition stops the following lines choking <span style="color:#6ab825;font-weight:bold">if</span> HOME isn<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>t
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> defined.
</span></span><span style="display:flex;"><span><span style="color:#ccc">HOME			= ./
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc"> # Use this in order to automatically load providers.
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">openssl_conf = openssl_init
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Comment out the next line to ignore configuration errors
</span></span><span style="display:flex;"><span><span style="color:#ccc">config_diagnostics = 1
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Extra OBJECT IDENTIFIER info:
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">oid_file</span>       = <span style="color:#40ffff">$ENV</span>::HOME/.oid
</span></span><span style="display:flex;"><span><span style="color:#ccc">oid_section = new_oids
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> To use this configuration file with the <span style="color:#ed9d13">&#34;-extfile&#34;</span> option of the
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#ed9d13">&#34;openssl x509&#34;</span> utility, name here the section containing the
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> X.509v3 extensions to use:
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">extensions</span>		=
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> (Alternatively, use a configuration file that has only
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> X.509v3 extensions in its main [= default] section.)
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[ new_oids ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span> We can add new OIDs in here <span style="color:#6ab825;font-weight:bold">for</span> use by <span style="color:#ed9d13">&#39;ca&#39;</span>, <span style="color:#ed9d13">&#39;req&#39;</span> and <span style="color:#ed9d13">&#39;ts&#39;</span>.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> Add a simple OID like this:
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">testoid1</span>=1.2.3.4
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> Or use config file substitution like this:
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">testoid2</span>=<span style="color:#ed9d13">${</span><span style="color:#40ffff">testoid1</span><span style="color:#ed9d13">}</span>.5.6
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Policies used by the TSA examples.
</span></span><span style="display:flex;"><span><span style="color:#ccc">tsa_policy1 = 1.2.3.4.1
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">tsa_policy2 = 1.2.3.4.5.6
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">tsa_policy3 = 1.2.3.4.5.7
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> For FIPS
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> Optionally include a file that is generated by the OpenSSL fipsinstall
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> application. This file contains configuration data required by the OpenSSL
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> fips provider. It contains a named section e.g. [fips_sect] which is
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> referenced from the [provider_sect] below.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> Refer to the OpenSSL security policy <span style="color:#6ab825;font-weight:bold">for</span> more information.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> .include fipsmodule.cnf
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[openssl_init]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span> <span style="color:#40ffff">providers</span> = provider_sect
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> List of providers to load
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> [provider_sect]
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">default</span> = default_sect
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> The fips section name should match the section name inside the
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> included fipsmodule.cnf.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">fips</span> = fips_sect
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> If no providers are activated explicitly, the default one is activated implicitly.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> See man <span style="color:#3677a9">7</span> OSSL_PROVIDER-default <span style="color:#6ab825;font-weight:bold">for</span> more details.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># If you add a section explicitly activating any other provider(s), you most</span>
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> probably need to explicitly activate the default provider, otherwise it
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> becomes unavailable in openssl.  As a consequence applications depending on
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> OpenSSL may not work correctly which could lead to significant system
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> problems including inability to remotely access the system.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> [default_sect]
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">activate</span> = <span style="color:#3677a9">1</span>
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span><span style="color:#999;font-style:italic">###################################################################</span>
</span></span><span style="display:flex;"><span><span style="color:#ccc">[ ca ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">default_ca	= CA_default		# The default ca section
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span><span style="color:#999;font-style:italic">###################################################################</span>
</span></span><span style="display:flex;"><span><span style="color:#ccc">[ CA_default ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">dir		= ./			# Where everything is kept
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">certs		= $dir/certsdb		# Where the issued certs are kept
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">crl_dir		= $dir/crl		# Where the issued crl are kept
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">database	= $dir/index.txt	# database index file.
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span><span style="color:#40ffff">unique_subject</span>	= no			<span style="color:#999;font-style:italic"># Set to &#39;no&#39; to allow creation of</span>
</span></span><span style="display:flex;"><span><span style="color:#ccc">					# several certs with same subject.
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">new_certs_dir	= $certs		# default place for new certs.
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">certificate	= $dir/cacert.pem	# The CA certificate
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">serial		= $dir/serial		# The current serial number
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">crldir		= $dir/crl
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">crlnumber	= $dir/crlnumber	# the current crl number
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">					# must be commented out to leave a V1 CRL
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">crl		= $dir/crl.pem		# The current CRL
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">RANDFILE	= $dir/private/.rand
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">private_key	= $dir/private/cakey.pem# The private key
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">x509_extensions	= usr_cert		# The extensions to add to the cert
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">copy_extnesions = copy
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Comment out the following two lines <span style="color:#6ab825;font-weight:bold">for</span> the <span style="color:#ed9d13">&#34;traditional&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> (and highly broken) format.
</span></span><span style="display:flex;"><span><span style="color:#ccc">name_opt	= ca_default		# Subject Name options
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">cert_opt	= ca_default		# Certificate field options
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Extension copying option: use with caution.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">copy_extensions</span> = copy
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Extensions to add to a CRL. Note: Netscape communicator chokes on V2 CRLs
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> so this is commented out by default to leave a V1 CRL.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> crlnumber must also be commented out to leave a V1 CRL.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">crl_extensions</span>	= crl_ext
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">default_days	= 365			# how long to certify for
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">default_crl_days= 30			# how long before next CRL
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">default_md	= sha1			# use public key default MD
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">preserve	= no			# keep passed DN ordering
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> A few difference way of specifying how similar the request should look
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> For <span style="color:#24909d">type</span> CA, the listed attributes must be the same, and the optional
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> and supplied fields are just that :-)
</span></span><span style="display:flex;"><span><span style="color:#ccc">policy		= policy_match
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> For the CA policy
</span></span><span style="display:flex;"><span><span style="color:#ccc">[ policy_match ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">countryName		= match
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">stateOrProvinceName	= match
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">localityName		= supplied
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">organizationName	= match
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">organizationalUnitName	= optional
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">commonName		= supplied
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">emailAddress		= optional
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> For the <span style="color:#ed9d13">&#39;anything&#39;</span> policy
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> At this point in time, you must list all acceptable <span style="color:#ed9d13">&#39;object&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> types.
</span></span><span style="display:flex;"><span><span style="color:#ccc">[ policy_anything ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">countryName		= optional
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">stateOrProvinceName	= optional
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">localityName		= optional
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">organizationName	= optional
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">organizationalUnitName	= optional
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">commonName		= supplied
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">emailAddress		= optional
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span><span style="color:#999;font-style:italic">###################################################################</span>
</span></span><span style="display:flex;"><span><span style="color:#ccc">[ req ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">default_bits		= 2048
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">default_keyfile		= privkey.pem
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">distinguished_name	= req_distinguished_name
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">attributes		= req_attributes
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">x509_extensions		= v3_ca	# The extensions to add to the self signed cert
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">req_extensions		= v3_req
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Passwords <span style="color:#6ab825;font-weight:bold">for</span> private keys <span style="color:#6ab825;font-weight:bold">if</span> not present they will be prompted <span style="color:#6ab825;font-weight:bold">for</span>
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">input_password</span> = secret
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">output_password</span> = secret
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> This sets a mask <span style="color:#6ab825;font-weight:bold">for</span> permitted string types. There are several options.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> default: PrintableString, T61String, BMPString.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> pkix	 : PrintableString, BMPString (PKIX recommendation before 2004)
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> utf8only: only UTF8Strings (PKIX recommendation after 2004).
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> nombstr : PrintableString, T61String (no BMPStrings or UTF8Strings).
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> MASK:XXXX a literal mask value.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> WARNING: ancient versions of Netscape crash on BMPStrings or UTF8Strings.
</span></span><span style="display:flex;"><span><span style="color:#ccc">string_mask = nombstr
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> <span style="color:#40ffff">req_extensions</span> = v3_req <span style="color:#999;font-style:italic"># The extensions to add to a certificate request</span>
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[ req_distinguished_name ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">countryName			= Country Name (2 letter code)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">countryName_default		= ES
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">countryName_min			= 2
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">countryName_max			= 2
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">stateOrProvinceName		= State or Province Name (full name)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">stateOrProvinceName_default	= Andalucia
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">localityName			= Locality Name (eg, city)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">localityName_dafault		= Dos Hermanas
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">0.organizationName		= Organization Name (eg, company)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">0.organizationName_default	= JaviHueteCA
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> we can <span style="color:#6ab825;font-weight:bold">do</span> this but it is not needed normally :-)
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span>1.organizationName		= Second Organization Name (eg, company)
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span>1.organizationName_default	= World Wide Web Pty Ltd
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">organizationalUnitName		= Organizational Unit Name (eg, section)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span><span style="color:#40ffff">organizationalUnitName_default</span>	=
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">commonName			= Common Name (e.g. server FQDN or YOUR name)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">commonName_max			= 64
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">emailAddress			= Email Address
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">emailAddress_max		= 64
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> SET-ex3			= SET extension number <span style="color:#3677a9">3</span>
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[ req_attributes ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span><span style="color:#40ffff">challengePassword</span>		= A challenge password
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span><span style="color:#40ffff">challengePassword_min</span>		= <span style="color:#3677a9">4</span>
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span><span style="color:#40ffff">challengePassword_max</span>		= <span style="color:#3677a9">20</span>
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span><span style="color:#40ffff">unstructuredName</span>		= An optional company name
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[ usr_cert ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> These extensions are added when <span style="color:#ed9d13">&#39;ca&#39;</span> signs a request.
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> This goes against PKIX guidelines but some CAs <span style="color:#6ab825;font-weight:bold">do</span> it and some software
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> requires this to avoid interpreting an end user certificate as a CA.
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">basicConstraints=CA:FALSE
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> This is typical in keyUsage <span style="color:#6ab825;font-weight:bold">for</span> a client certificate.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">keyUsage</span> = nonRepudiation, digitalSignature, keyEncipherment
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> PKIX recommendations harmless <span style="color:#6ab825;font-weight:bold">if</span> included in all certificates.
</span></span><span style="display:flex;"><span><span style="color:#ccc">subjectKeyIdentifier=hash
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">authorityKeyIdentifier=keyid,issuer
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> This stuff is <span style="color:#6ab825;font-weight:bold">for</span> subjectAltName and issuerAltname.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> Import the email address.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">subjectAltName</span>=email:copy
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> An alternative to produce certificates that aren<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>t
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> deprecated according to PKIX.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">subjectAltName</span>=email:move
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Copy subject details
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">issuerAltName</span>=issuer:copy
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> This is required <span style="color:#6ab825;font-weight:bold">for</span> TSA certificates.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">extendedKeyUsage</span> = critical,timeStamping
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">crlDistributionPoints = URI:http://www.example.com/example_ca.crl
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Same as above, but cert req already has SubjectAltName
</span></span><span style="display:flex;"><span><span style="color:#ccc">[ usr_cert_has_san ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">basicConstraints = CA:false
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">subjectKeyIdentifier = hash
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">authorityKeyIdentifier = keyid,issuer
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">crlDistributionPoints = URI:http://www.example.com/example_ca.crl
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[ v3_req ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Extensions to add to a certificate request
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span><span style="color:#40ffff">basicConstraints</span> = CA:FALSE
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span><span style="color:#40ffff">keyUsage</span> = nonRepudiation, digitalSignature, keyEncipherment
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span><span style="color:#40ffff">subjetctAltName</span> = email:move
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[ v3_ca ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Extensions <span style="color:#6ab825;font-weight:bold">for</span> a typical CA
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> PKIX recommendation.
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">subjectKeyIdentifier=hash
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">authorityKeyIdentifier=keyid:always,issuer
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">basicConstraints = CA:true
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Key usage: this is typical <span style="color:#6ab825;font-weight:bold">for</span> a CA certificate. However since it will
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> prevent it being used as an <span style="color:#24909d">test</span> self-signed certificate it is best
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> left out by default.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">keyUsage</span> = cRLSign, keyCertSign
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Include email address in subject alt name: another PKIX recommendation
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">subjectAltName</span>=email:copy
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> Copy issuer details
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">issuerAltName</span>=issuer:copy
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> DER hex encoding of an extension: beware experts only!
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">obj</span>=DER:02:03
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> Where <span style="color:#ed9d13">&#39;obj&#39;</span> is a standard or added object
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> You can even override a supported extension:
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">basicConstraints</span>= critical, DER:30:03:01:01:FF
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">crlDistributionPoints = URI:http://www.example.com/example_ca.crl
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Same as above, but CA req already has SubjectAltName
</span></span><span style="display:flex;"><span><span style="color:#ccc">[ v3_ca_has_san ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">subjectKeyIdentifier = hash
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">authorityKeyIdentifier = keyid:always,issuer:always
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">basicConstraints = CA:true
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">crlDistributionPoints = URI:http://www.example.com/example_ca.crl
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[ crl_ext ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> CRL extensions.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> Only issuerAltName and authorityKeyIdentifier make any sense in a CRL.
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> <span style="color:#40ffff">issuerAltName</span>=issuer:copy
</span></span><span style="display:flex;"><span><span style="color:#ccc">authorityKeyIdentifier=keyid:always
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[ proxy_cert_ext ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span> These extensions should be added when creating a proxy certificate
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> This goes against PKIX guidelines but some CAs <span style="color:#6ab825;font-weight:bold">do</span> it and some software
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> requires this to avoid interpreting an end user certificate as a CA.
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">basicConstraints=CA:FALSE
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> This is typical in keyUsage <span style="color:#6ab825;font-weight:bold">for</span> a client certificate.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">keyUsage</span> = nonRepudiation, digitalSignature, keyEncipherment
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> PKIX recommendations harmless <span style="color:#6ab825;font-weight:bold">if</span> included in all certificates.
</span></span><span style="display:flex;"><span><span style="color:#ccc">subjectKeyIdentifier=hash
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">authorityKeyIdentifier=keyid,issuer
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> This stuff is <span style="color:#6ab825;font-weight:bold">for</span> subjectAltName and issuerAltname.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> Import the email address.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">subjectAltName</span>=email:copy
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> An alternative to produce certificates that aren<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>t
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> deprecated according to PKIX.
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">subjectAltName</span>=email:move
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Copy subject details
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">issuerAltName</span>=issuer:copy
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> This really needs to be in place <span style="color:#6ab825;font-weight:bold">for</span> it to be a proxy certificate.
</span></span><span style="display:flex;"><span><span style="color:#ccc">proxyCertInfo=critical,language:id-ppl-anyLanguage,pathlen:3,policy:foo
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span><span style="color:#999;font-style:italic">###################################################################</span>
</span></span><span style="display:flex;"><span><span style="color:#ccc">[ tsa ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">default_tsa = tsa_config1	# the default TSA section
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[ tsa_config1 ]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> These are used by the TSA reply generation only.
</span></span><span style="display:flex;"><span><span style="color:#ccc">dir		= ./demoCA		# TSA root directory
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">serial		= $dir/tsaserial	# The current serial number (mandatory)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">crypto_device	= builtin		# OpenSSL engine to use for signing
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">signer_cert	= $dir/tsacert.pem 	# The TSA signing certificate
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">					# (optional)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">certs		= $dir/cacert.pem	# Certificate chain to include in reply
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">					# (optional)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">signer_key	= $dir/private/tsakey.pem # The TSA private key (optional)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">signer_digest  = sha256			# Signing digest to use. (Optional)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">default_policy	= tsa_policy1		# Policy if request did not specify it
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">					# (optional)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">other_policies	= tsa_policy2, tsa_policy3	# acceptable policies (optional)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">digests     = sha1, sha256, sha384, sha512  # Acceptable message digests (mandatory)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">accuracy	= secs:1, millisecs:500, microsecs:100	# (optional)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">clock_precision_digits  = 0	# number of digits after dot. (optional)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">ordering		= yes	# Is ordering defined for timestamps?
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">				# (optional, default: no)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">tsa_name		= yes	# Must the TSA name be included in the reply?
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">				# (optional, default: no)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">ess_cert_id_chain	= no	# Must the ESS cert id chain be included?
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">				# (optional, default: no)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">ess_cert_id_alg		= sha1	# algorithm to compute certificate
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">				# identifier (optional, default: sha1)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[insta] # CMP using Insta Demo CA
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span> Message transfer
</span></span><span style="display:flex;"><span><span style="color:#ccc">server = pki.certificate.fi:8700
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span> <span style="color:#40ffff">proxy</span> = <span style="color:#999;font-style:italic"># set this as far as needed, e.g., http://192.168.1.1:8080</span>
</span></span><span style="display:flex;"><span><span style="color:#aaa">#</span> <span style="color:#40ffff">tls_use</span> = <span style="color:#3677a9">0</span>
</span></span><span style="display:flex;"><span><span style="color:#ccc">path = pkix/
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Server authentication
</span></span><span style="display:flex;"><span><span style="color:#ccc">recipient = &#34;/C=FI/O=Insta Demo/CN=Insta Demo CA&#34; # or set srvcert or issuer
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">ignore_keyusage = 1 # potentially needed quirk
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">unprotected_errors = 1 # potentially needed quirk
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">extracertsout = insta.extracerts.pem
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Client authentication
</span></span><span style="display:flex;"><span><span style="color:#ccc">ref = 3078 # user identification
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">secret = pass:insta # can be used for both client and server side
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Generic message options
</span></span><span style="display:flex;"><span><span style="color:#ccc">cmd = ir # default operation, can be overridden on cmd line with, e.g., kur
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Certificate enrollment
</span></span><span style="display:flex;"><span><span style="color:#ccc">subject = &#34;/CN=openssl-cmp-test&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">newkey = insta.priv.pem
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">out_trusted = apps/insta.ca.crt # does not include keyUsage digitalSignature
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">certout = insta.cert.pem
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[pbm] # Password-based protection for Insta CA
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span> Server and client authentication
</span></span><span style="display:flex;"><span><span style="color:#ccc">ref = $insta::ref # 3078
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">secret = $insta::secret # pass:insta
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[signature] # Signature-based protection for Insta CA
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span> Server authentication
</span></span><span style="display:flex;"><span><span style="color:#ccc">trusted = $insta::out_trusted # apps/insta.ca.crt
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#aaa">#</span> Client authentication
</span></span><span style="display:flex;"><span><span style="color:#ccc">secret = # disable PBM
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">key = $insta::newkey # insta.priv.pem
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">cert = $insta::certout # insta.cert.pem
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[ir]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">cmd = ir
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[cr]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">cmd = cr
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[kur]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span> Certificate update
</span></span><span style="display:flex;"><span><span style="color:#ccc">cmd = kur
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">oldcert = $insta::certout # insta.cert.pem
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">[rr]
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#aaa">#</span> Certificate revocation
</span></span><span style="display:flex;"><span><span style="color:#ccc">cmd = rr
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">oldcert = $insta::certout # insta.cert.pem
</span></span></span></code></pre></div><p>Por último hay que crear la autoridad certificadora. Para ello se necesita un par de claves.</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash-session" data-lang="bash-session"><span style="display:flex;"><span><span style="color:#ccc">❯ openssl req -new -newkey rsa:2048 -keyout private/cakey.pem -out careq.pem -config ./openssl.cnf
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">.........+.....+......+......+.+.........+.....+...+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*....+..+...+.+........+.+..+...+.......+........+.+.....+...+.+.....+......+...+.......+...+..+....+............+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*..........+...+.............................+..........+...+.....+....+.........+..+.........+......+.......+..+....+.....+.+...+...+........+.+...+...........+..........+..+....+...+..+.+........+.+..............+......+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">.......+..+...............+......+...+............+..................+.......+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*........+....+..+.+........+...............+.......+..+..........+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*............+.........+.+.....+.........+......+....+..+.+.....+...+.+...+..+.+........+......+..........+...+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Enter PEM pass phrase:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Verifying - Enter PEM pass phrase:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">-----
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">You are about to be asked to enter information that will be incorporated
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">into your certificate request.
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">What you are about to enter is what is called a Distinguished Name or a DN.
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">There are quite a few fields but you can leave some blank
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">For some fields there will be a default value,
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">If you enter &#39;.&#39;, the field will be left blank.
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">-----
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Country Name (2 letter code) [ES]:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">State or Province Name (full name) [Sevilla]:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Locality Name [Dos Hermanas]:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Organization Name (eg, company) [JaviHueteCA]:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Organizational Unit Name (eg, section) []:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Common Name (e.g. server FQDN or YOUR name) []:JaviHuete
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Email Address []:javi@javihueteca.org
</span></span></span></code></pre></div><p>El siguiente paso en la creación de la autoridad certificadora es autofirmar la solicitud CSR para crear el certificado CRT de la autoridad.</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash-session" data-lang="bash-session"><span style="display:flex;"><span><span style="color:#ccc">❯ openssl ca -create_serial -out cacert.pem -days 365 -keyfile private/cakey.pem -selfsign -extensions v3_ca -config ./openssl.cnf -infiles careq.pem
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Using configuration from ./openssl.cnf
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Enter pass phrase for private/cakey.pem:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Check that the request matches the signature
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Signature ok
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Certificate Details:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">        Serial Number:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            03:63:db:72:4f:8c:36:21:62:9a:21:2c:e8:2d:9a:40:b9:2a:35:71
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">        Validity
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            Not Before: Jan  9 11:23:27 2025 GMT
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            Not After : Jan  9 11:23:27 2026 GMT
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">        Subject:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            countryName               = ES
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            stateOrProvinceName       = Sevilla
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            organizationName          = JaviHueteCA
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            commonName                = JaviHuete
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            emailAddress              = javi@javihueteca.org
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">        X509v3 extensions:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            X509v3 Subject Key Identifier: 
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">                1E:36:CD:F9:E7:98:C3:AB:66:61:45:C0:41:78:CF:2A:6C:27:8B:05
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            X509v3 Authority Key Identifier: 
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">                1E:36:CD:F9:E7:98:C3:AB:66:61:45:C0:41:78:CF:2A:6C:27:8B:05
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            X509v3 Basic Constraints: critical
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">                CA:TRUE
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Certificate is to be certified until Jan  9 11:23:27 2026 GMT (365 days)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Sign the certificate? [y/n]:y
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">1 out of 1 certificate requests certified, commit? [y/n]y
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Write out database with 1 new entries
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Database updated
</span></span></span></code></pre></div><h1 id="firmar-solicitudes-de-certificados-como-autoridad-certificadora-ca">Firmar solicitudes de certificados como Autoridad Certificadora (CA)</h1>
<p>Para firmar una solicitud CSR recibida se descarga en el directorio CA/certreqs.</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash-session" data-lang="bash-session"><span style="display:flex;"><span><span style="color:#ccc">❯ openssl ca -config openssl.cnf -out certsdb/pineda.crt -infiles certreqs/server.csr
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Using configuration from openssl.cnf
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Enter pass phrase for /home/javi/Dropbox/ASIR/Seguridad/Criptografía/CA/private/cakey.pem:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Check that the request matches the signature
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Signature ok
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Certificate Details:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">        Serial Number:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            03:63:db:72:4f:8c:36:21:62:9a:21:2c:e8:2d:9a:40:b9:2a:35:72
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">        Validity
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            Not Before: Jan  9 11:38:36 2025 GMT
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            Not After : Jan  9 11:38:36 2026 GMT
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">        Subject:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            countryName               = ES
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            stateOrProvinceName       = Sevilla
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            organizationName          = JaviHueteCA
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            commonName                = JaviHuete
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">        X509v3 extensions:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            X509v3 Basic Constraints: 
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">                CA:FALSE
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            X509v3 Subject Key Identifier: 
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">                1B:D9:6B:78:1A:76:B7:E4:49:92:A5:AD:6C:38:B2:D0:2F:EA:3C:D0
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">            X509v3 Authority Key Identifier: 
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">                1E:36:CD:F9:E7:98:C3:AB:66:61:45:C0:41:78:CF:2A:6C:27:8B:05
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Certificate is to be certified until Jan  9 11:38:36 2026 GMT (365 days)
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Sign the certificate? [y/n]:y
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">1 out of 1 certificate requests certified, commit? [y/n]y
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Write out database with 1 new entries
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Database updated
</span></span></span></code></pre></div><p>Este comando genera un certificado firmado con la extensión .crt en el directorio CA/certsdb. Este certificado se envía al solicitante junto con el certificado autofirmado de la autoridad certificadora.</p>
<h1 id="configuración-de-un-servidor-web-con-un-certificado-https">Configuración de un servidor web con un certificado HTTPS</h1>
<h2 id="solicitud-del-certificado">Solicitud del certificado</h2>
<p>Para poder configurar de forma adecuada su servidor web se necesita el certificado firmado por la Autoridad Certificadora (CA) y el certificado autofirmado de la propia CA.</p>
<p>Para solicitar un certificado a la CA se debe generar una solicitud de certificado CSR junto a la clave privada asociada a ese certificado o se puede usar una clave privada previamente existente.</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash-session" data-lang="bash-session"><span style="display:flex;"><span><span style="color:#ccc">❯ openssl req -newkey rsa:4096 -keyout servidor.key -out servidor.csr
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">..+......+...+.+...+..+...+......+....+..+.+.....+..........+..+................+..+...+.+......+..+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*.+....+.....+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*....+.................+...+........................+......+......+.+.....+....+...............+...+......+.....................+...+......+..+............+.+.....+.+...+.....+.+......+...........+..................+.+.........+............+....................+.............+......+...+..+.+.........+......+........+.+.....+.........+....+...............+..+...+...............+.............+...+......+........+......+.+......+...+.........+...+...............+..............+...+.....................+.......+................................+...+............+.......+.....+.........+.....................+...+.+............+.................+.......+...........+..................+....+......+..+............+...............+.+.....+...................+..+....+......+...............+...+..+.+........+....+...+.....+.......+...+....................+.......+...+...+..+.......+......+.....+......+...+......+....+.................+.+.....+.........+......+.........+....+.....+.+........+.+..+....+...+..+.+..+......+.......+.....+.........+.+..+...+...+.+...+..+.............+........+.......+......+.....+.+...+......+.....+.+.........+......+...........+....+...+..+...+..........+......+.....+.......+.....+.......+........+...+....+......+.....+........................+............+.+..+.............+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">..+.+..............+.+..+......+.+...+...+........+.......+.....+....+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*...+..+....+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*...+.....+...+.............+.....+...+....+...+...+.....+.......+...+.....+.+.....+...+...+....+.....+....+...............+......+.........+............+.....+.......+..+.+..................+...........+.+.....+...+.+...+.................+............................+...+..+.+...........+.+..+.............+..+......+....+.....+.......+......+...+..+..........+..+..........+...............+........+.........+....+...........+....+.....+....+...............+...+.....+.........+..................................+......+..............+.........+.......+......+..+...+..........+............+..+.+...+......+.........+.....+....+.....+.............+........+......+...+.+.........+............+...........+...+....+............+........+......+.+...+...+........+....+.....+..................+............+...+...+......+.....................+.............+.................+...+....+......+...............+..+...............+..........+...+..+.......+...+...+.........+..+.........+.+.........+.........+......+...........+...+.+..............................+.........+..+......+....+...........+...+.+...........+....+........+......+.+.....+...+.+.........+..+.+............+......+.....+................+...+.....+...+..........+..+...+.........+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Enter PEM pass phrase:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Verifying - Enter PEM pass phrase:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">-----
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">You are about to be asked to enter information that will be incorporated
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">into your certificate request.
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">What you are about to enter is what is called a Distinguished Name or a DN.
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">There are quite a few fields but you can leave some blank
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">For some fields there will be a default value,
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">If you enter &#39;.&#39;, the field will be left blank.
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">-----
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Country Name (2 letter code) [AU]:ES
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">State or Province Name (full name) [Some-State]:Sevilla
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Locality Name (eg, city) []:Dos Hermanas
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Organization Name (eg, company) [Internet Widgits Pty Ltd]:Certificaciones Pineda
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Organizational Unit Name (eg, section) []:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Common Name (e.g. server FQDN or YOUR name) []:pineda
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">Email Address []:    
</span></span></span><span style="display:flex;"><span><span style="color:#ccc"></span><span style="color:#a61717;background-color:#e3d2d2">
</span></span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2"></span><span style="color:#ccc">Please enter the following &#39;extra&#39; attributes
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">to be sent with your certificate request
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">A challenge password []:
</span></span></span><span style="display:flex;"><span><span style="color:#ccc">An optional company name []:
</span></span></span></code></pre></div><p>Este comando utiliza el módulo <code>req</code> de <code>openssl</code> con la opción <code>-newkey</code>, que permite crear tanto la clave pirvada (<code>-keyout</code>) como el CSR (<code>-out</code>) en un único comando.</p>
<p>La CA debe devolver tanto el certificado firmado como su propio certificado autofirmado.</p>
<h2 id="configuración-https-en-apache2">Configuración HTTPS en Apache2</h2>
<p>Para configurar un virtual host en <code>apache2</code> usando un certificado HTTPS se usa una configuración similar a la siguiente:</p>
<pre tabindex="0"><code class="language-apache2" data-lang="apache2">&lt;VirtualHost *:443&gt;
	ServerAdmin webmaster@localhost

	DocumentRoot /var/www/html

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

	SSLEngine on

	SSLCertificateFile      /ruta/a/javihuete.crt
	SSLCertificateKeyFile   /ruta/a/servidor.key
	SSLCACertificateFile	/ruta/a/cacert.pem

	&lt;FilesMatch &#34;\.(?:cgi|shtml|phtml|php)$&#34;&gt;
		SSLOptions +StdEnvVars
	&lt;/FilesMatch&gt;
	&lt;Directory /usr/lib/cgi-bin&gt;
		SSLOptions +StdEnvVars
	&lt;/Directory&gt;

&lt;/VirtualHost&gt;
</code></pre><p>Para que se fuerce la redirección a la versión https del servidor web se establece también la siguiente configuración en el virtual host por defecto.</p>
<pre tabindex="0"><code class="language-apache2" data-lang="apache2">&lt;VirtualHost *:80&gt;

	ServerAdmin webmaster@localhost
	DocumentRoot /var/www/html

	RedirectMatch 301 ^/$ https://localhost

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

&lt;/VirtualHost&gt;
</code></pre><p>En el navegador, hay que instalar el certificado de la autoridad certificadora para poder acceder al sitio HTTPS. En el caso de Firefox esto se hace pulsando el botón &ldquo;importar&rdquo; desde el menú de certificados en los ajustes del navegador.</p>

















  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
      
      
    
    
    
    


    
    
      
      

      
        
        
      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      
      
          <img
            title=""
            loading="lazy"
            decoding="async"
            class="img img-fluid img-center"
            width="1366"
            height="768"
            src="/images/seguridad/criptografia/p3_c8_hu_fd619909b22617b1.png"
            alt=""
            onerror="this.onerror='null';this.src='\/images\/seguridad\/criptografia\/p3_c8_hu_fd619909b22617b1.png'" />
      
    

  
  






  <script>
    window.addEventListener("load", (e) => {
      const lightbox = GLightbox();
    });
  </script>


<p>Al acceder al servidor web por HTTPS desde el navegador se muestra un mensaje de error</p>

















  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
      
      
    
    
    
    


    
    
      
      

      
        
        
      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      
      
          <img
            title=""
            loading="lazy"
            decoding="async"
            class="img img-fluid img-center"
            width="1366"
            height="2226"
            src="/images/seguridad/criptografia/p3_c9_hu_fe8dfc8f39a9cfbf.png"
            alt=""
            onerror="this.onerror='null';this.src='\/images\/seguridad\/criptografia\/p3_c9_hu_fe8dfc8f39a9cfbf.png'" />
      
    

  
  







<p>Esto se debe a que el servidor web usa un certificado autofirmado cuyo emisor es desconocido para el navegador y, por tanto, no confía en él. Sin embargo, como tenemos confianza en el emisor del certificado, podemos pulsar &ldquo;Aceptar el riesgo y continuar&rdquo;.</p>
<p>Entonces podemos acceder a la web alojado en el servidor. En la información del a página se muestra que, aunque el sitio web no proporciona información de su dueño, sí está verificado, en este caso, por &ldquo;Certificaciones Pineda&rdquo;.</p>

















  





  
  
  


  
  
    
    
      
    

    


    
    


    
    
    
    
      
      
    
    
    
    


    
    
      
      

      
        
        
      


      

      
      
        
        
        
      
      
      
      

    
    

    
    
      
      
          <img
            title=""
            loading="lazy"
            decoding="async"
            class="img img-fluid img-center"
            width="1366"
            height="768"
            src="/images/seguridad/criptografia/p3_c10_hu_74660c121e44e67d.png"
            alt=""
            onerror="this.onerror='null';this.src='\/images\/seguridad\/criptografia\/p3_c10_hu_74660c121e44e67d.png'" />
      
    

  
  







<h2 id="configuración-https-en-nginx">Configuración HTTPS en Nginx</h2>
<p>Para configurar el servidor web Nginx para servir la página estática usando HTTPS se modifica el fichero por defecto con los siguientes parámetros:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nginx" data-lang="nginx"><span style="display:flex;"><span><span style="color:#999;font-style:italic">##
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># You should look at the following URL&#39;s in order to grasp a solid understanding
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># of Nginx configuration files in order to fully unleash the power of Nginx.
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># https://www.nginx.com/resources/wiki/start/
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># https://wiki.debian.org/Nginx/DirectoryStructure
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">#
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># In most cases, administrators will remove this file from sites-enabled/ and
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># leave it as reference inside of sites-available where it will continue to be
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># updated by the nginx packaging team.
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">#
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># This file will automatically load configuration files provided by other
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># applications, such as Drupal or Wordpress. These applications will be made
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># available underneath a path with that package name, such as /drupal8.
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">#
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># Please see /usr/share/doc/nginx-doc/examples/ for more detailed examples.
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic">##
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># Default server configuration
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">server</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">listen</span> <span style="color:#3677a9">80</span> <span style="color:#ed9d13">default_server</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">listen</span> <span style="color:#ed9d13">[::]:80</span> <span style="color:#ed9d13">default_server</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">return</span> <span style="color:#3677a9">301</span> <span style="color:#ed9d13">https://localhost</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#6ab825;font-weight:bold">server</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">listen</span> <span style="color:#3677a9">443</span> <span style="color:#ed9d13">ssl</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">listen</span> <span style="color:#ed9d13">[::]:443</span> <span style="color:#ed9d13">ssl</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">ssl_certificate</span> <span style="color:#ed9d13">/ruta/a/javihuete.crt</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">ssl_certificate_key</span> <span style="color:#ed9d13">/ruta/a/servidor.key</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">ssl_password_file</span> <span style="color:#ed9d13">/ruta/a/password_file</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">ssl_protocols</span>       <span style="color:#ed9d13">TLSv1</span> <span style="color:#ed9d13">TLSv1.1</span> <span style="color:#ed9d13">TLSv1.2</span> <span style="color:#ed9d13">TLSv1.3</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">ssl_ciphers</span>         <span style="color:#ed9d13">HIGH:!aNULL:!MD5</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">server_name</span> <span style="color:#ed9d13">_</span>;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">root</span> <span style="color:#ed9d13">/var/www/html</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">index</span> <span style="color:#ed9d13">index.html</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#6ab825;font-weight:bold">location</span> <span style="color:#ed9d13">/</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#6ab825;font-weight:bold">try_files</span> <span style="color:#40ffff">$uri</span> <span style="color:#40ffff">$uri/</span> =<span style="color:#3677a9">404</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Para que funcione la directiva <code>ssl_password_file</code>, que pasa la frase de paso de la clave privada con la que se solicitó el certificado a la autoridad certificadora, hay que crear este fichero y rellenarlo con esta frase de paso.</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash-session" data-lang="bash-session"><span style="display:flex;"><span><span style="color:#ccc">echo &#34;passphrase&#34; &gt; password_file
</span></span></span></code></pre></div><p>Con esta configuración, se puede acceder a la web HTTPS alojada en el servidor Nginx.</p>

          </div>
          <div class="row items-start justify-between">
            
            
              <div class="lg:col-5 mb-10 flex items-center lg:mb-0">
                <h5 class="mr-3">Tags :</h5>
                <ul>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/cifrado/">
                        Cifrado
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/criptograf%c3%ada/">
                        Criptografía
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/ca/">
                        Ca
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/autirodad-certificadora/">
                        Autirodad certificadora
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/https/">
                        HTTPS
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/ssl/">
                        Ssl
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/seguridad/">
                        Seguridad
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/administraci%c3%b3n-de-sistemas/">
                        Administración de sistemas
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-theme-light hover:bg-primary dark:bg-darkmode-theme-light dark:hover:bg-darkmode-primary dark:hover:text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/seguridad-y-alta-disponibilidad/">
                        Seguridad y alta disponibilidad
                      </a>
                    </li>
                  
                </ul>
              </div>
            
            <div class="lg:col-4 flex items-center">
              
















<div class="share-icons">
  <h5 class="share-title">Compartir :</h5>


  
  
    <a
      class="share-link share-facebook"
      href="https://facebook.com/sharer/sharer.php?u=%2fblog%2fseguridad%2f2025-01-14-certificado-http-ssl%2f"
      target="_blank"
      rel="noopener"
      aria-label="share facebook">
      <span class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z" />
        </svg>
      </span>
    </a>
  


  
  
    <a
      class="share-link share-twitter"
      href="https://twitter.com/intent/tweet/?text=Compartir&amp;url=%2fblog%2fseguridad%2f2025-01-14-certificado-http-ssl%2f"
      target="_blank"
      rel="noopener"
      aria-label="share twitter">
      <span aria-hidden="true" class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path 
            d="M8 2H1l8.26 11.015L1.45 22H4.1l6.388-7.349L16 22h7l-8.608-11.478L21.8 2h-2.65l-5.986 6.886zm9 18L5 4h2l12 16z"/>
        </svg>
      </span>
    </a>
  


  
  
    <a
      class="share-link share-email"
      href="mailto:?subject=Compartir&amp;body=%2fblog%2fseguridad%2f2025-01-14-certificado-http-ssl%2f"
      target="_self"
      rel="noopener"
      aria-label="share email">
      <span aria-hidden="true" class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z" />
        </svg>
      </span>
    </a>
  


  
  
    <a
      class="share-link share-reddit"
      href="https://reddit.com/submit/?url=%2fblog%2fseguridad%2f2025-01-14-certificado-http-ssl%2f&amp;resubmit=true&amp;title=Compartir"
      target="_blank"
      rel="noopener"
      aria-label="share reddit">
      <span aria-hidden="true" class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M24 11.5c0-1.65-1.35-3-3-3-.96 0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65 0 3-1.35 3-3s-1.35-3-3-3c-1.38 0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65 0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66 0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64 0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4 0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6 0 .23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1 0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z" />
        </svg>
      </span>
    </a>
  


  
  


  
  


  
  


  
  


  
  


  
  
</div>

            </div>
          </div>
          
          
            <div class="mt-20">
              <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "javihuete-site" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
          
        </article>
      </div>

      
      
      
      
        <div class="section pb-0">
          <h2 class="h3 mb-12">Relacionados</h2>
          <div class="row">
            
              <div class="lg:col-4 md:col-6 mb-14">
                <div class="bg-body dark:bg-darkmode-body">
  
  
  <h4 class="mb-3">
    <a href="/blog/sistemas/2023-10-25-conceptos-basicos-apt/">
      Conceptos básicos del gestor de paquetes apt
    </a>
  </h4>
  
  
    <ul class="mb-4">
      <li class="mr-4 inline-block">
        <a href="/authors/francisco-javier-huete/">
          <i class="fa-regular fa-circle-user mr-2"></i>Francisco Javier Huete
        </a>
      </li>
      <li class="mr-4 inline-block">
        <i class="fa-regular fa-folder mr-1"></i>
        
          <a
            href="/categories/sistemas/"
            class="ms-1"
            >Sistemas
          </a>
        
      </li>
    </ul>
  
  <p class="mb-6">En este post se recoge un breve resumen sobre la información relativa a los gestores de paquetes apt y aptitude incluida en el manual de referencia de Debian</p>
  <a class="btn btn-outline-primary btn-sm" href="/blog/sistemas/2023-10-25-conceptos-basicos-apt/">
    Leer
  </a>
</div>

              </div>
            
              <div class="lg:col-4 md:col-6 mb-14">
                <div class="bg-body dark:bg-darkmode-body">
  
  
  <h4 class="mb-3">
    <a href="/blog/implantacion-aplicaciones-web/2025-02-24-almacenamiento-docker/">
      Almacenamiento en Docker
    </a>
  </h4>
  
  
    <ul class="mb-4">
      <li class="mr-4 inline-block">
        <a href="/authors/francisco-javier-huete/">
          <i class="fa-regular fa-circle-user mr-2"></i>Francisco Javier Huete
        </a>
      </li>
      <li class="mr-4 inline-block">
        <i class="fa-regular fa-folder mr-1"></i>
        
          <a
            href="/categories/implantacion/"
            class="ms-1"
            >Implantacion
          </a>
        
      </li>
    </ul>
  
  <p class="mb-6">En este post se resume el funcionamiento de los dos principales métodos de almacenamiento en Docker: los volúmenes y los bind mount</p>
  <a class="btn btn-outline-primary btn-sm" href="/blog/implantacion-aplicaciones-web/2025-02-24-almacenamiento-docker/">
    Leer
  </a>
</div>

              </div>
            
              <div class="lg:col-4 md:col-6 mb-14">
                <div class="bg-body dark:bg-darkmode-body">
  
  
  <h4 class="mb-3">
    <a href="/blog/implantacion-aplicaciones-web/2025-02-24-comandos-basicos-docker/">
      Comandos básicos en Docker
    </a>
  </h4>
  
  
    <ul class="mb-4">
      <li class="mr-4 inline-block">
        <a href="/authors/francisco-javier-huete/">
          <i class="fa-regular fa-circle-user mr-2"></i>Francisco Javier Huete
        </a>
      </li>
      <li class="mr-4 inline-block">
        <i class="fa-regular fa-folder mr-1"></i>
        
          <a
            href="/categories/implantacion/"
            class="ms-1"
            >Implantacion
          </a>
        
      </li>
    </ul>
  
  <p class="mb-6">En este post se muestran algunos de los comandos básicos para la creación y gestión de contenedores usando Docker</p>
  <a class="btn btn-outline-primary btn-sm" href="/blog/implantacion-aplicaciones-web/2025-02-24-comandos-basicos-docker/">
    Leer
  </a>
</div>

              </div>
            
          </div>
        </div>
      
    </div>
  </section>

    </main>

    
    <footer class="bg-theme-light dark:bg-darkmode-theme-light">
  <div class="container">
    <div class="row items-center py-10">
      <div class="lg:col-3 mb-8 text-center lg:mb-0 lg:text-left">
        
        <a
          class="navbar-brand inline-block"
          href="/">
          















  









  
  
  


  
  
    
    
  


  
  
      
      
    
    
    
    
    
    
  
  

  
  
    
    
      
      


      
      
        
        
        
        

        
        
        
      
      
    
  
  

  
    <img
      fetchpriority="high"
      decoding="async"
      class="img img-light"
      width="160"
      height="32"
      src="/images/logo_hu_147412e9a193273b.webp"
      alt="Javi Huete"
      onerror="this.onerror=null;this.src='\/images\/logo_hu_239070bac3e16f0e.png';" />

    <img
      fetchpriority="high"
      decoding="async"
      class="img img-dark"
      width="160"
      height="32"
      src="/images/logo-darkmode_hu_590aa44f8245a468.webp"
      alt="Javi Huete"
      onerror="this.onerror=null;this.src='\/images\/logo-darkmode_hu_7ac6db7b4e6aa847.png';" />
  
  


        </a>
      </div>
      <div class="lg:col-6 mb-8 text-center lg:mb-0">
        <ul>
          
            <li class="m-3 inline-block">
              <a
                
                href="
                  /about
                "
                >Sobre mí</a
              >
            </li>
          
            <li class="m-3 inline-block">
              <a
                
                href="
                  /blog
                "
                >Prácticas</a
              >
            </li>
          
            <li class="m-3 inline-block">
              <a
                
                href="
                  /contact
                "
                >Contacto</a
              >
            </li>
          
        </ul>
      </div>
      <div class="lg:col-3 mb-8 text-center lg:mb-0 lg:mt-0 lg:text-right">
        <ul class="social-icons">
          
            <li>
              <a
                target="_blank"
                aria-label="email"
                rel="nofollow noopener"
                href="mailto:fjhuete.m@gmail.com">
                <i class="fa-solid fa-envelope"></i>
              </a>
            </li>
          
            <li>
              <a
                target="_blank"
                aria-label="github"
                rel="nofollow noopener"
                href="https://www.github.com/fjhuete">
                <i class="fab fa-github"></i>
              </a>
            </li>
          
            <li>
              <a
                target="_blank"
                aria-label="linkedin"
                rel="nofollow noopener"
                href="https://www.linkedin.com/in/fjhuete">
                <i class="fab fa-linkedin"></i>
              </a>
            </li>
          
            <li>
              <a
                target="_blank"
                aria-label="telegram"
                rel="nofollow noopener"
                href="https://t.me/fj_huete">
                <i class="fab fa-telegram"></i>
              </a>
            </li>
          
        </ul>
      </div>
    </div>
  </div>
  <div class="border-border dark:border-darkmode-border border-t py-7">
    <div class="text-light dark:text-darkmode-light container text-center">
      <p>
        Esta web está licenciada bajo <a href="http://creativecommons.org/licenses/by-nc/4.0/?ref=chooser-v1"




 target="_blank"
 


>CC BY-NC-SA 4.0</a>. Funciona con <a href="gohugo.io"



 


>Hugo</a> y <a href="https://github.com/zeon-studio/hugoplate"




 target="_blank"
 


>Hugoplate</a>
      </p>
    </div>
  </div>
</footer>



    
    



  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  










  
  



<script
  crossorigin="anonymous"
  integrity="sha256-NoqgJlugD&#43;mB4Hf8AueiiPBQSb7ASin&#43;oZS0fYEdtiA="
  src="/js/script.min.368aa0265ba00fe981e077fc02e7a288f05049bec04a29fea194b47d811db620.js"></script>


<script
  defer
  async
  crossorigin="anonymous"
  integrity="sha256-GrJYek7lbMIWuRNCD5ImM6PNBJ72jzIDo/urKVLfPDk="
  src="/js/script-lazy.min.1ab2587a4ee56cc216b913420f922633a3cd049ef68f3203a3fbab2952df3c39.js"></script>



<script>
  if ('serviceWorker' in navigator){navigator.serviceWorker.register("/service-worker.js");}
</script>






  












  



  </body>
</html>
